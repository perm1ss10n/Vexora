# Конфигурация устройства Vexora

## Общие требования
- Конфигурация версионирована
- Хранится минимум две версии: active и previous
- Поддерживается rollback
- Конфигурация доставляется через MQTT

## Пример структуры конфигурации

{
  "version": 1,
  "network": {
    "wifi": {
      "enabled": true,
      "ssid": "",
      "password": ""
    },
    "gsm": {
      "enabled": true,
      "apn": "",
      "user": "",
      "password": ""
    }
  },
  "telemetry": {
    "interval_sec": 30
  },
  "mqtt": {
    "broker": "mqtt.vexora.cloud",
    "port": 8883,
    "tls": true
  }
}

## Алгоритм применения конфигурации
1. Получение новой конфигурации → статус `pending`
2. Валидация структуры и значений
3. Применение конфигурации
4. Проверка связи с брокером
5. Подтверждение → статус `active`
6. При ошибке → автоматический rollback